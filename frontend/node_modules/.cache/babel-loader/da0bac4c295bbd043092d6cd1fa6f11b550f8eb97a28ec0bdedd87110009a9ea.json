{"ast":null,"code":"import \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.date.to-iso-string.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nexport default {\n  name: 'AuditView',\n  methods: {\n    triggerRecovery: function triggerRecovery() {\n      var _this = this;\n      var start = new Date();\n      start.setHours(start.getHours() - 2); // 默认查前2小时\n      var end = new Date();\n      this.$axios.post('/api/db-recovery', {\n        logFile: 'binlog.000219',\n        startTime: start.toISOString().slice(0, 19).replace('T', ' '),\n        endTime: end.toISOString().slice(0, 19).replace('T', ' ')\n      }).then(function (response) {\n        _this.$message.success(response.data);\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","methods","triggerRecovery","_this","start","Date","setHours","getHours","end","$axios","post","logFile","startTime","toISOString","slice","replace","endTime","then","response","$message","success","data"],"sources":["D:\\Code\\Project\\SSR\\frontend\\src\\views\\Audit.vue"],"sourcesContent":["<template>\r\n  <div class=\"audit\">\r\n    <el-card>\r\n      <template #header>\r\n        <div class=\"card-header\">\r\n          <span>智能审核</span>\r\n        </div>\r\n      </template>\r\n      <div class=\"content\">\r\n        审核功能开发中...\r\n        <el-button @click=\"triggerRecovery\" type=\"danger\">紧急数据恢复</el-button>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'AuditView',\r\n  methods: {\r\n    triggerRecovery() {\r\n      const start = new Date();\r\n      start.setHours(start.getHours() - 2); // 默认查前2小时\r\n      const end = new Date();\r\n      \r\n      this.$axios.post('/api/db-recovery', {\r\n        logFile: 'binlog.000219',\r\n        startTime: start.toISOString().slice(0, 19).replace('T', ' '),\r\n        endTime: end.toISOString().slice(0, 19).replace('T', ' ')\r\n      }).then(response => {\r\n        this.$message.success(response.data);\r\n      });\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.content {\r\n  padding: 20px;\r\n  text-align: center;\r\n  color: #999;\r\n}\r\n</style> "],"mappings":";;;;;AAiBA,eAAe;EACbA,IAAI,EAAE,WAAW;EACjBC,OAAO,EAAE;IACPC,eAAe,WAAfA,eAAeA,CAAA,EAAG;MAAA,IAAAC,KAAA;MAChB,IAAMC,KAAI,GAAI,IAAIC,IAAI,CAAC,CAAC;MACxBD,KAAK,CAACE,QAAQ,CAACF,KAAK,CAACG,QAAQ,CAAC,IAAI,CAAC,CAAC,EAAE;MACtC,IAAMC,GAAE,GAAI,IAAIH,IAAI,CAAC,CAAC;MAEtB,IAAI,CAACI,MAAM,CAACC,IAAI,CAAC,kBAAkB,EAAE;QACnCC,OAAO,EAAE,eAAe;QACxBC,SAAS,EAAER,KAAK,CAACS,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAACC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC;QAC7DC,OAAO,EAAER,GAAG,CAACK,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAACC,OAAO,CAAC,GAAG,EAAE,GAAG;MAC1D,CAAC,CAAC,CAACE,IAAI,CAAC,UAAAC,QAAO,EAAK;QAClBf,KAAI,CAACgB,QAAQ,CAACC,OAAO,CAACF,QAAQ,CAACG,IAAI,CAAC;MACtC,CAAC,CAAC;IACJ;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}