{"ast":null,"code":"import \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.search.js\";\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withKeys as _withKeys, resolveDirective as _resolveDirective, openBlock as _openBlock, createBlock as _createBlock, withDirectives as _withDirectives, createElementBlock as _createElementBlock } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"container\"\n};\nvar _hoisted_2 = {\n  \"class\": \"card-header\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_el_tag = _resolveComponent(\"el-tag\");\n  var _component_el_icon = _resolveComponent(\"el-icon\");\n  var _component_el_input = _resolveComponent(\"el-input\");\n  var _component_el_form_item = _resolveComponent(\"el-form-item\");\n  var _component_el_button = _resolveComponent(\"el-button\");\n  var _component_el_form = _resolveComponent(\"el-form\");\n  var _component_el_divider = _resolveComponent(\"el-divider\");\n  var _component_el_table_column = _resolveComponent(\"el-table-column\");\n  var _component_el_table = _resolveComponent(\"el-table\");\n  var _component_el_pagination = _resolveComponent(\"el-pagination\");\n  var _component_el_card = _resolveComponent(\"el-card\");\n  var _directive_loading = _resolveDirective(\"loading\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_card, {\n    shadow: \"hover\"\n  }, {\n    header: _withCtx(function () {\n      return [_createElementVNode(\"div\", _hoisted_2, [_cache[3] || (_cache[3] = _createElementVNode(\"span\", {\n        \"class\": \"title\"\n      }, \"医疗费用查询\", -1 /* HOISTED */)), _createVNode(_component_el_tag, {\n        type: \"info\"\n      }, {\n        \"default\": _withCtx(function () {\n          return _cache[2] || (_cache[2] = [_createTextVNode(\"v2.0\")]);\n        }),\n        _: 1 /* STABLE */\n      })])];\n    }),\n    \"default\": _withCtx(function () {\n      return [_createVNode(_component_el_form, {\n        inline: true\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_form_item, {\n            label: \"就诊ID\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_el_input, {\n                modelValue: $setup.mdtrtId,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n                  return $setup.mdtrtId = $event;\n                }),\n                placeholder: \"请输入就诊编号\",\n                clearable: \"\",\n                onKeyup: _withKeys($setup.search, [\"enter\"])\n              }, {\n                prefix: _withCtx(function () {\n                  return [_createVNode(_component_el_icon, null, {\n                    \"default\": _withCtx(function () {\n                      return [_createVNode($setup[\"Search\"])];\n                    }),\n                    _: 1 /* STABLE */\n                  })];\n                }),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"modelValue\"])];\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_form_item, null, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_el_button, {\n                type: \"primary\",\n                loading: $setup.loading,\n                onClick: $setup.search\n              }, {\n                \"default\": _withCtx(function () {\n                  return _cache[4] || (_cache[4] = [_createTextVNode(\" 立即查询 \")]);\n                }),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"loading\"])];\n            }),\n            _: 1 /* STABLE */\n          })];\n        }),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_divider, {\n        \"border-style\": \"dashed\"\n      }), _withDirectives((_openBlock(), _createBlock(_component_el_table, {\n        data: $setup.feeDetails,\n        stripe: \"\",\n        border: \"\",\n        \"empty-text\": \"暂无相关费用记录\",\n        style: {\n          \"width\": \"100%\"\n        }\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_table_column, {\n            prop: \"mdtrtId\",\n            label: \"就诊编号\",\n            width: \"180\",\n            sortable: \"\"\n          }), _createVNode(_component_el_table_column, {\n            prop: \"bkkpSn\",\n            label: \"流水号\",\n            width: \"220\"\n          }), _createVNode(_component_el_table_column, {\n            prop: \"feeOcurTime\",\n            label: \"发生时间\",\n            formatter: $setup.formatDate,\n            width: \"180\"\n          }), _createVNode(_component_el_table_column, {\n            prop: \"cnt\",\n            label: \"数量\",\n            align: \"right\",\n            width: \"120\"\n          }), _createVNode(_component_el_table_column, {\n            prop: \"pric\",\n            label: \"单价\",\n            align: \"right\",\n            width: \"120\"\n          }), _createVNode(_component_el_table_column, {\n            label: \"操作\",\n            width: \"120\"\n          }, {\n            \"default\": _withCtx(function (scope) {\n              return [_createVNode(_component_el_button, {\n                type: \"primary\",\n                link: \"\",\n                onClick: function onClick($event) {\n                  return $setup.showDetail(scope.row);\n                }\n              }, {\n                \"default\": _withCtx(function () {\n                  return _cache[5] || (_cache[5] = [_createTextVNode(\" 详情 \")]);\n                }),\n                _: 2 /* DYNAMIC */\n              }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])];\n            }),\n            _: 1 /* STABLE */\n          })];\n        }),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"data\"])), [[_directive_loading, $setup.loading]]), _createVNode(_component_el_pagination, {\n        \"current-page\": $setup.currentPage,\n        \"onUpdate:currentPage\": _cache[1] || (_cache[1] = function ($event) {\n          return $setup.currentPage = $event;\n        }),\n        \"page-size\": $setup.pageSize,\n        layout: \"total, prev, pager, next\",\n        total: $setup.total,\n        onCurrentChange: $setup.handlePageChange,\n        \"class\": \"pagination\"\n      }, null, 8 /* PROPS */, [\"current-page\", \"page-size\", \"total\"])];\n    }),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["_createElementBlock","_hoisted_1","_createVNode","_component_el_card","shadow","header","_withCtx","_createElementVNode","_hoisted_2","_component_el_tag","type","_cache","_createTextVNode","_","_component_el_form","inline","_component_el_form_item","label","_component_el_input","modelValue","$setup","mdtrtId","$event","placeholder","clearable","onKeyup","_withKeys","search","prefix","_component_el_icon","_component_el_button","loading","onClick","_component_el_divider","_createBlock","_component_el_table","data","feeDetails","stripe","border","style","_component_el_table_column","prop","width","sortable","formatter","formatDate","align","scope","link","showDetail","row","_component_el_pagination","currentPage","pageSize","layout","total","onCurrentChange","handlePageChange"],"sources":["D:\\Code\\Project\\SSR\\frontend\\src\\views\\FeeQuery.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <el-card shadow=\"hover\">\r\n      <template #header>\r\n        <div class=\"card-header\">\r\n          <span class=\"title\">医疗费用查询</span>\r\n          <el-tag type=\"info\">v2.0</el-tag>\r\n        </div>\r\n      </template>\r\n\r\n      <el-form :inline=\"true\">\r\n        <el-form-item label=\"就诊ID\">\r\n          <el-input\r\n            v-model=\"mdtrtId\"\r\n            placeholder=\"请输入就诊编号\"\r\n            clearable\r\n            @keyup.enter=\"search\"\r\n          >\r\n            <template #prefix>\r\n              <el-icon><Search /></el-icon>\r\n            </template>\r\n          </el-input>\r\n        </el-form-item>\r\n        \r\n        <el-form-item>\r\n          <el-button\r\n            type=\"primary\"\r\n            :loading=\"loading\"\r\n            @click=\"search\"\r\n          >\r\n            立即查询\r\n          </el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n\r\n      <el-divider border-style=\"dashed\" />\r\n      \r\n      <el-table\r\n        :data=\"feeDetails\"\r\n        stripe\r\n        border\r\n        v-loading=\"loading\"\r\n        empty-text=\"暂无相关费用记录\"\r\n        style=\"width: 100%\"\r\n      >\r\n        <el-table-column\r\n          prop=\"mdtrtId\"\r\n          label=\"就诊编号\"\r\n          width=\"180\"\r\n          sortable\r\n        />\r\n        <el-table-column\r\n          prop=\"bkkpSn\"\r\n          label=\"流水号\"\r\n          width=\"220\"\r\n        />\r\n        <el-table-column\r\n          prop=\"feeOcurTime\"\r\n          label=\"发生时间\"\r\n          :formatter=\"formatDate\"\r\n          width=\"180\"\r\n        />\r\n        <el-table-column\r\n          prop=\"cnt\"\r\n          label=\"数量\"\r\n          align=\"right\"\r\n          width=\"120\"\r\n        />\r\n        <el-table-column\r\n          prop=\"pric\"\r\n          label=\"单价\"\r\n          align=\"right\"\r\n          width=\"120\"\r\n        />\r\n        <el-table-column\r\n          label=\"操作\"\r\n          width=\"120\"\r\n        >\r\n          <template #default=\"scope\">\r\n            <el-button\r\n              type=\"primary\"\r\n              link\r\n              @click=\"showDetail(scope.row)\"\r\n            >\r\n              详情\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <el-pagination\r\n        v-model:current-page=\"currentPage\"\r\n        :page-size=\"pageSize\"\r\n        layout=\"total, prev, pager, next\"\r\n        :total=\"total\"\r\n        @current-change=\"handlePageChange\"\r\n        class=\"pagination\"\r\n      />\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue'\r\nimport { ElMessage } from 'element-plus'\r\nimport axios from 'axios'\r\nimport { Search } from '@element-plus/icons-vue'\r\n\r\nconst mdtrtId = ref('')\r\nconst feeDetails = ref([])\r\nconst loading = ref(false)\r\nconst currentPage = ref(1)\r\nconst pageSize = ref(10)\r\nconst total = ref(0)\r\n\r\nconst search = async () => {\r\n  if (!mdtrtId.value) {\r\n    ElMessage.warning('请输入就诊编号')\r\n    return\r\n  }\r\n\r\n  try {\r\n    loading.value = true\r\n    const response = await axios.post('/api/fee-details', {\r\n      mdtrtId: mdtrtId.value\r\n    })\r\n    \r\n    feeDetails.value = response.data\r\n    total.value = response.data.length\r\n    ElMessage.success(`查询到${total.value}条记录`)\r\n  } catch (error) {\r\n    ElMessage.error(error.response?.data?.message || '查询失败')\r\n    console.error('请求失败:', error)\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\nconst formatDate = (row) => {\r\n  return row.feeOcurTime ? \r\n    new Date(row.feeOcurTime).toLocaleString() : \r\n    '--'\r\n}\r\n\r\nconst showDetail = (row) => {\r\n  ElMessage.info(`查看详情：${row.bkkpSn}`)\r\n  // 实际开发中可跳转详情页或显示弹窗\r\n}\r\n\r\nconst handlePageChange = (val) => {\r\n  currentPage.value = val\r\n  // 实际分页请求逻辑\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  max-width: 1200px;\r\n  margin: 20px auto;\r\n  padding: 0 20px;\r\n}\r\n\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.title {\r\n  font-size: 1.5rem;\r\n  font-weight: 500;\r\n  color: var(--el-color-primary);\r\n}\r\n\r\n.pagination {\r\n  margin-top: 20px;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.el-divider {\r\n  margin: 20px 0;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}